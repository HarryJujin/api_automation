2017-03-24 11:35:29  [ pool-1-thread-1:0 ] - [ INFO ]  [接口配置Down]: D:\workspace\TestCase\测试\iyb出单(3).xlsx接口配置Down 未配置VERSION,取接口配置Up中的值
2017-03-24 11:35:29  [ main:0 ] - [ ERROR ]  [用例集开关]: D:\workspace\TestCase\测试\iyb出单(3).xlsx用例集开关 未包含 高端医疗出单
2017-03-24 11:35:29  [ pool-1-thread-2:5 ] - [ ERROR ]  [用例集开关]: D:\workspace\TestCase\测试\iyb出单(3).xlsx用例集开关 未包含 高端医疗出单
2017-03-24 11:35:29  [ pool-1-thread-2:7 ] - [ INFO ]  [接口配置Down]: D:\workspace\TestCase\测试\iyb出单(3).xlsx接口配置Down 未配置VERSION,取接口配置Up中的值
2017-03-24 11:35:29  [ pool-1-thread-4:6 ] - [ INFO ]  [接口配置Down]: D:\workspace\TestCase\测试\iyb出单(3).xlsx接口配置Down 未配置VERSION,取接口配置Up中的值
2017-03-24 11:35:29  [ pool-1-thread-3:5 ] - [ INFO ]  [接口配置Down]: D:\workspace\TestCase\测试\iyb出单(3).xlsx接口配置Down 未配置VERSION,取接口配置Up中的值
2017-03-24 11:35:29  [ pool-1-thread-4:12 ] - [ INFO ]  ---------当前用例执行开始，用例编号:iyb-001,接口类型: HTTP
2017-03-24 11:35:29  [ pool-1-thread-4:21 ] - [ INFO ]  
表达式引擎解析前的参数: 
{
  "applicant": [
    {
      "applicantCertType": "I",
      "applicantName": "测试投保人",
      "applicantCertNo": "@RIdWithBirthday(RDate("YYYYMMdd","-25/0/0"),"1")",
      "applicantBirthday": "@RDate("YYYY-MM-dd","-25/0/0")",
      "applicantGender": "M",
      "applicantEmail": "1607217918@qq.com"
    }
  ],
  "insured": [
    {
      "isOpen": "open",
      "ensurePlan": "$GetExcelData("assortmentId")",
      "amount": "0",
      "insurantCertType": "I",
      "insurance": "Y",
      "relation": "2",
      "insurantName": "测试配偶",
      "insurantCertNo": "$GetExcelData("insurantCertNo")",
      "insurantBirthday": "$GetExcelData("insurantBirthday")",
      "insurantGender": "F"
    }
  ],
  "insurance": [
    {
      "productName": "$GetExcelData("productName")",
      "expires": "1年",
      "effectiveDate": "@RDate("YYYY-MM-dd","0")",
      "expiryDate": "@RDate("YYYY-MM-dd","1/0/-1")",
      "person": "法定",
      "quantity": 1
    }
  ],
  "communication": [
    {
      "applicantMobile": "15618757067",
      "smsCode": "888888"
    }
  ],
  "assortmentId": "$GetExcelData("assortmentId")",
  "productId": "$GetExcelData("productId")",
  "accountId": "$GetExcelData("accountId")",
  "coupon": ""
}
2017-03-24 11:35:30  [ pool-1-thread-4:143 ] - [ INFO ]  表达式: [GetExcelData("assortmentId")]开始解析...
2017-03-24 11:35:30  [ pool-1-thread-4:144 ] - [ INFO ]  表达式: [GetExcelData("insurantCertNo")]开始解析...
2017-03-24 11:35:30  [ pool-1-thread-4:144 ] - [ INFO ]  表达式: [GetExcelData("insurantBirthday")]开始解析...
2017-03-24 11:35:30  [ pool-1-thread-4:145 ] - [ INFO ]  表达式: [GetExcelData("productName")]开始解析...
2017-03-24 11:35:30  [ pool-1-thread-4:145 ] - [ INFO ]  表达式: [GetExcelData("assortmentId")]开始解析...
2017-03-24 11:35:30  [ pool-1-thread-4:145 ] - [ INFO ]  表达式: [GetExcelData("productId")]开始解析...
2017-03-24 11:35:30  [ pool-1-thread-4:146 ] - [ INFO ]  表达式: [GetExcelData("accountId")]开始解析...
2017-03-24 11:35:30  [ pool-1-thread-4:148 ] - [ INFO ]  表达式: [RIdWithBirthday(RDate("YYYYMMdd","-25/0/0"),"1")]开始解析...
2017-03-24 11:35:30  [ pool-1-thread-4:233 ] - [ INFO ]  表达式: [RDate("YYYY-MM-dd","-25/0/0")]开始解析...
2017-03-24 11:35:30  [ pool-1-thread-4:242 ] - [ INFO ]  表达式: [RDate("YYYY-MM-dd","-24/0/0")]开始解析...
2017-03-24 11:35:30  [ pool-1-thread-4:245 ] - [ INFO ]  表达式: [RDate("YYYY-MM-dd","0")]开始解析...
2017-03-24 11:35:30  [ pool-1-thread-4:247 ] - [ INFO ]  表达式: [RDate("YYYY-MM-dd","1/0/-1")]开始解析...
2017-03-24 11:35:30  [ pool-1-thread-4:251 ] - [ INFO ]  表达式: [RIdWithBirthday(RDate("YYYYMMdd","-24/0/0"),"2")]开始解析...
2017-03-24 11:35:30  [ pool-1-thread-4:253 ] - [ INFO ]  
表达式引擎解析后的参数: 
{
  "applicant": [
    {
      "applicantCertType": "I",
      "applicantName": "测试投保人",
      "applicantCertNo": "621026199203246053",
      "applicantBirthday": "1992-03-24",
      "applicantGender": "M",
      "applicantEmail": "1607217918@qq.com"
    }
  ],
  "insured": [
    {
      "isOpen": "open",
      "ensurePlan": "51252513",
      "amount": "0",
      "insurantCertType": "I",
      "insurance": "Y",
      "relation": "2",
      "insurantName": "测试配偶",
      "insurantCertNo": "130430199303240483",
      "insurantBirthday": "1993-03-24",
      "insurantGender": "F"
    }
  ],
  "insurance": [
    {
      "productName": "尊享e生医疗保险",
      "expires": "1年",
      "effectiveDate": "2017-03-24",
      "expiryDate": "2018-03-23",
      "person": "法定",
      "quantity": 1
    }
  ],
  "communication": [
    {
      "applicantMobile": "15618757067",
      "smsCode": "888888"
    }
  ],
  "assortmentId": "51252513",
  "productId": "1000173",
  "accountId": "50002490005",
  "coupon": ""
}
2017-03-24 11:35:30  [ pool-1-thread-4:260 ] - [ INFO ]  接口访问地址: http://test.iyunbao.com/open/qrcode/normalPolicyAjax/normalAppPolicyInter.json
2017-03-24 11:35:32  [ pool-1-thread-4:2445 ] - [ INFO ]  bizcontent: {"message":"承保成功","result":{"insurantOldPremium":[219],"insurantPremium":[219.0],"isDoubleElevenActivityStart":false,"oldPremium":219,"premium":219,"returnUrl":"https://cashieruat.zhongan.com/za-cashier-web/gateway.do?amt=219.00&auto_test=true&merchant_code=1604000601&notify_url=http://10.139.107.1:3080/open/broker/system/payResultCheck/checkZAPayResult.do&out_trade_no=IYB201703241135327274&pay_channel=alipay^wxpay^unionpay&request_charset=UTF-8&return_url=http://10.139.107.1:3080/open/broker/system/payResultCheck/checkZAPayResult1.do&show_result_page=N&sign=7d7ab6a6c9965be154d5c98c53c72419&sign_type=MD5&src_type=mobile&subject=尊享e生医疗保险","workId":"50006665001"},"code":"0"}
2017-03-24 11:35:32  [ pool-1-thread-4:2451 ] - [ INFO ]  表达式: [HttpGet(ResponseDepend("iyb-001","returnUrl"),"utf-8")]开始解析...
2017-03-24 11:35:33  [ pool-1-thread-4:3317 ] - [ ERROR ]  clientExecuteError:{}
java.lang.IllegalArgumentException: Illegal character in query at index 251: https://cashieruat.zhongan.com/za-cashier-web/gateway.do?amt=219.00&auto_test=true&merchant_code=1604000601&notify_url=http://10.139.107.1:3080/open/broker/system/payResultCheck/checkZAPayResult.do&out_trade_no=IYB201703241135327274&pay_channel=alipay^wxpay^unionpay&request_charset=UTF-8&return_url=http://10.139.107.1:3080/open/broker/system/payResultCheck/checkZAPayResult1.do&show_result_page=N&sign=7d7ab6a6c9965be154d5c98c53c72419&sign_type=MD5&src_type=mobile&subject=尊享e生医疗保险
	at java.net.URI.create(URI.java:852)
	at org.apache.http.client.methods.HttpGet.<init>(HttpGet.java:69)
	at com.zhongan.qa.utils.HttpResponseUtils.getResponseByKeyValueParameter(HttpResponseUtils.java:54)
	at com.zhongan.qa.utils.HttpClientUtils.testWithKeyValue(HttpClientUtils.java:34)
	at com.za.qa.keywords.KeywordDefinition$HttpRequest.call(KeywordDefinition.java:901)
	at Script_1490326532341_6.execute0(Unknown Source)
	at com.googlecode.aviator.ClassExpression.execute(ClassExpression.java:53)
	at com.googlecode.aviator.AviatorEvaluator.execute(AviatorEvaluator.java:550)
	at com.googlecode.aviator.AviatorEvaluator.execute(AviatorEvaluator.java:566)
	at com.googlecode.aviator.AviatorEvaluator.execute(AviatorEvaluator.java:587)
	at com.za.qa.keywords.ExpressionEngine.execute(ExpressionEngine.java:39)
	at com.za.qa.analyze.DataAnalyze.analyzeCurrent(DataAnalyze.java:316)
	at com.za.qa.verify.ResponseVerify.check(ResponseVerify.java:615)
	at com.za.qa.dto.CaseDTO.getCaseReportDTO(CaseDTO.java:165)
	at com.za.qa.services.ClientServices.run(ClientServices.java:59)
	at com.za.qa.services.ApiCallable.call(ApiCallable.java:39)
	at com.za.qa.services.ApiCallable.call(ApiCallable.java:1)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.URISyntaxException: Illegal character in query at index 251: https://cashieruat.zhongan.com/za-cashier-web/gateway.do?amt=219.00&auto_test=true&merchant_code=1604000601&notify_url=http://10.139.107.1:3080/open/broker/system/payResultCheck/checkZAPayResult.do&out_trade_no=IYB201703241135327274&pay_channel=alipay^wxpay^unionpay&request_charset=UTF-8&return_url=http://10.139.107.1:3080/open/broker/system/payResultCheck/checkZAPayResult1.do&show_result_page=N&sign=7d7ab6a6c9965be154d5c98c53c72419&sign_type=MD5&src_type=mobile&subject=尊享e生医疗保险
	at java.net.URI$Parser.fail(URI.java:2848)
	at java.net.URI$Parser.checkChars(URI.java:3021)
	at java.net.URI$Parser.parseHierarchical(URI.java:3111)
	at java.net.URI$Parser.parse(URI.java:3053)
	at java.net.URI.<init>(URI.java:588)
	at java.net.URI.create(URI.java:850)
	... 20 more
2017-03-24 11:35:33  [ pool-1-thread-4:3320 ] - [ ERROR ]  getReponseError:{}
java.lang.NullPointerException
	at com.zhongan.qa.utils.HttpResponseUtils.getResponseContent(HttpResponseUtils.java:294)
	at com.za.qa.keywords.KeywordDefinition$HttpRequest.call(KeywordDefinition.java:902)
	at Script_1490326532341_6.execute0(Unknown Source)
	at com.googlecode.aviator.ClassExpression.execute(ClassExpression.java:53)
	at com.googlecode.aviator.AviatorEvaluator.execute(AviatorEvaluator.java:550)
	at com.googlecode.aviator.AviatorEvaluator.execute(AviatorEvaluator.java:566)
	at com.googlecode.aviator.AviatorEvaluator.execute(AviatorEvaluator.java:587)
	at com.za.qa.keywords.ExpressionEngine.execute(ExpressionEngine.java:39)
	at com.za.qa.analyze.DataAnalyze.analyzeCurrent(DataAnalyze.java:316)
	at com.za.qa.verify.ResponseVerify.check(ResponseVerify.java:615)
	at com.za.qa.dto.CaseDTO.getCaseReportDTO(CaseDTO.java:165)
	at com.za.qa.services.ClientServices.run(ClientServices.java:59)
	at com.za.qa.services.ApiCallable.call(ApiCallable.java:39)
	at com.za.qa.services.ApiCallable.call(ApiCallable.java:1)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2017-03-24 11:35:33  [ pool-1-thread-4:3321 ] - [ INFO ]  表达式: [getTestValue("out_trade_no",ResponseDepend("iyb-001","returnUrl"))]开始解析...
2017-03-24 11:35:33  [ pool-1-thread-4:3330 ] - [ INFO ]  ---------当前用例执行完毕，用例编号:iyb-001---------
2017-03-24 11:35:33  [ main:3988 ] - [ INFO ]  ----程序结束运行----，程序运行时间【5769毫秒】
